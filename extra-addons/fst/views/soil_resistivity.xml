<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>

        <record id="mechanical_ert_soil_resistivity" model="ir.ui.view">
        <field name="name">ert.soil.resistivity.form</field>
        <field name="model">ert.soil.resistivity</field>
        <field name="arch" type="xml">
            <form create="false">
                <header>
                    <button name="action_print_soil_resistivity_report"
                            string="Print Report"
                            type="object"
                            class="btn-primary"/>
                </header>
                <sheet>
                    <h1>
                        <field name="name" readonly="1" nolabel="1"/>
                    </h1>
                   
                    <div class="d-flex justify-content-center">
                        <table class="table table-sm o_form_table table-bordered w-50 custom_table_borders">
                            <tbody>
                                <tr>
                                    <td><label for="ert_point">ERT POINT NO</label></td>
                                    <td><field name="ert_point"/></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="d-flex gap-2" style="margin-top:10px;">
                        <table class="table table-sm o_form_table table-bordered w-50 custom_table_borders">
                            <tbody>
                                <tr>
                                    <td><label for="factor_multiplied">Multiplication Factor</label></td>
                                    <td><field name="factor_multiplied"/></td>
                                </tr>
                                <tr>
                                    <td><label for="temperature_site">Temperature At Site</label></td>
                                    <td><field name="temperature_site"/></td>
                                </tr>
                                <tr>
                                    <td><label for="last_weather">Last 2 Days Weather</label></td>
                                    <td><field name="last_weather"/></td>
                                </tr>
                            
                            </tbody>
                        </table>
                        
                        <table class="table table-sm o_form_table table-bordered w-50 custom_table_borders">
                            <tbody>
                                <tr>
                                    <td><label for="current">Voltage</label></td>
                                    <td><field name="current"/></td>
                                </tr>
                                <tr>
                                    <td><label for="voltage">Voltage</label></td>
                                    <td><field name="voltage"/></td>
                                </tr>
                                <tr>
                                    <td><label for="present_weather">Present Weather</label></td>
                                    <td><field name="present_weather"/></td>
                                </tr>
                             
                            </tbody>
                        </table>
                    </div>

                    <field name="line_ids" class="custom_table_borders">
                        <tree editable="bottom" decoration-success="sr_no_label == 'Avg. Resistivity'" class="fix_resistivity_width" >
                           <!-- <field name="sr_no" /> -->
                           <field name="sr_no_label" readonly="1" string="Sr. No"/>
                            <field name="spacing"/>

                             <field name="resistivity_n1" />
                            <field name="resistivity_n2" readonly="1"/>
                            <field name="resistivity_n"  readonly="1" />
                            
                            <field name="resistivity_ne1"/>
                            <field name="resistivity_ne2" readonly="1"/>
                            <field name="resistivity_ne" readonly="1" />

                            <field name="resistivity_e1"/>
                            <field name="resistivity_e2" readonly="1"/>
                            <field name="resistivity_e"  readonly="1"/>

                            <field name="resistivity_se1"/>
                             <field name="resistivity_se2" readonly="1"/>
                              <field name="resistivity_se" readonly="1" />

                            <field name="resistivity_s1"/>
                            <field name="resistivity_s2" readonly="1"/>
                            <field name="resistivity_s"  readonly="1"/>

                            <field name="resistivity_sw1"/>
                            <field name="resistivity_sw2" readonly="1"/>
                            <field name="resistivity_sw" readonly="1" />

                            <field name="resistivity_w1"/>
                            <field name="resistivity_w2" readonly="1"/>
                            <field name="resistivity_w"  readonly="1"/>

                            <field name="resistivity_nw1"/>
                            <field name="resistivity_nw2" readonly="1"/>
                            <field name="resistivity_nw"  readonly="1"/>

                              <field name="area"  readonly="1"/>
                             <field name="radius"  readonly="1"/>

                           

                           
                        </tree>


                    </field>

                    <button name="button_add_footer" type="object" string="Calculate Average Resistivity" class="btn-primary"/>
                    
                  
                      <div class="d-flex" style="gap:10px; margin-bottom:20px; align-items:stretch;">

                        <!-- Left side -->
                        <div style="width:50%;" class="equal-box">
                            <field name="pin_line_ids" class="custom_table_borders" style="margin-top:10px; margin-bottom:0;">
                                <tree editable="bottom">
                                    <field name="pin_spacing" string="Pin Spacing"/>
                                    <field name="equivalent_radius" string="Equivalent Radius (i.e. av. Resistivity for each Spacing By polar Curve (Î© m)"/>
                                </tree>
                            </field>
                        </div>

                        <!-- Right side -->
                        <div style="width:25%;" class="equal-box">
                            <table class="table table-sm o_form_table table-bordered w-100 custom_table_borders" 
                                style="margin-top:10px; margin-bottom:0; text-align:center; height:91%;">
                                <thead>
                                    <tr>
                                        <th colspan="2" style="text-align:center;">Recommended ERT</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr style="height:100%;">
                                        <td colspan="2" style="text-align:center; vertical-align:middle;">
                                            <field name="ert_recommended"/>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                         <div style="width:25%;" class="equal-box">
                            <table class="table table-sm o_form_table table-bordered w-100 custom_table_borders" 
                                style="margin-top:10px; margin-bottom:0; text-align:center; height:91%;">
                                <thead>
                                    <tr>
                                        <th colspan="2" style="text-align:center;">Class Of Soil As Per IS 3043:2018</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr style="height:100%;">
                                        <td colspan="2" style="text-align:center; vertical-align:middle;">
                                            <field name="class_of_soil"/>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                    </div>


                      <div class="d-flex gap-2">
                        <table class="table table-sm o_form_table table-bordered w-50 custom_table_borders">
                            <tbody>
                                <tr>
                                    <td><label for="avg_equivalent_radius">Average ERT Resistivity</label></td>
                                    <td><field name="avg_equivalent_radius"/></td>
                                </tr>
                                
                            
                            </tbody>
                        </table>
                    </div>

                   <div class="d-flex gap-2" style="margin-top:10px; margin-bottom:15px; text-align:left;">
                        <button name="action_generate_graph" type="object" string="Generate Graph" class="btn-primary"/>
                        
                        <button name="action_copy_spacing_to_pin"
                                type="object"
                                string="ERT Average"
                                class="btn btn-primary"/>
                    </div>


                    <field name="graph_images" class="custom_table_borders">
                        <tree create="false" delete="false" class="text-center"> 
                            <field name="graph_image" widget="image"/>
                        </tree>
                    </field>
                    <!-- <t t-foreach="graph_images" t-as="images">
                        <t-esc="image.graph_image"/>
                    </t> -->

                    

                  
                    <button type="object" class="oe_highlight" name="save_ert" string="Submit"/>
                </sheet>
            </form>
        </field>
        </record>

    </data>
</odoo>